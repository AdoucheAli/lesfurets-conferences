<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Apache Spark : Hands-on et use cases pour développeurs Java</title>
        <meta name="description" content="Continuous delivery chez LesFurets.com">
        <meta name="author" content="Alexandre DuBreuil">
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <link rel="stylesheet" href="../bower_components/reveal.js/css/reveal.css">
        <link rel="stylesheet" href="../bower_components/reveal.js/lib/css/zenburn.css">
        <link rel="stylesheet" href="../css/lesfurets-theme.css" id="theme">
        <link rel="stylesheet" href="../css/git-octopus-theme.css" id="theme">
        <script>
if( window.location.search.match( /print-pdf/gi ) ) {
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = '../css/print/pdf.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
}
        </script>
        <!--[if lt IE 9]><script src="../bower_components/reveal.js/lib/js/html5shiv.js"></script><![endif]-->
    </head>
    <body>
        <div id="footer" class="footer show">
            <a href="https://www.lesfurets.com" target="_blank">
                <img class="logo" src="../img/logo_lesfurets_885x128_no_back.png">
            </a>
            <a class="github" href="https://github.com/lesfurets" target="_blank">https://github.com/lesfurets</a>
            <a class="twitter" href="https://twitter.com/BeastieFurets" target="_blank">@BeastieFurets</a>
            <a class="github" href="https://github.com/dubreuia" target="_blank">https://github.com/dubreuia</a>
            <a style="margin-right: 10px;" class="twitter" href="https://twitter.com/dubreuia" target="_blank">@dubreuia</a>
            <img style="height:40px;vertical-align:middle;padding:0 10px 0 25px" src="../img/TODO.png">
            <span style="font-family:arial;font-weight:bold;font-size:25px;vertical-align:middle">SNOWCAMP</span>
        </div>
        <div class="reveal">
            <div class="slides">

                <!-- SECTION - INTRO -->

                <section class="flushright" data-background="../img/nwx/lesfurets-background-black-01.jpg">
                    <h1>Apache Spark</h1>
                    <h2>hands-on et use cases pour développeurs Java</h2>
                    <h3>Alexandre DuBreuil</h3>
                </section>

                <section class="flushleft" data-background="../img/nwx/lesfurets-background-black-01.jpg">
                    <h2>Alexandre DuBreuil</h2>
                    <ul class="flushright nodisc">
                        <li>
                            <a style="color:white" href="https://twitter.com/dubreuia">https://twitter.com/dubreuia</a>
                        </li>
                        <li>
                            <a style="color:white" href="https://github.com/dubreuia">https://github.com/dubreuia</a>
                        </li>
                    </ul>
                </section>

                <!-- SECTION - INTRODUCTION -->

                <section>

                    <section class="flushleft" data-state="background-pipeline">
                        <h2 style="color:white">Introduction</h2>
                    </section>

                    <section class="flushleft" data-background="#222">
                        <h3>Definition</h3>
                        <p>Apache Spark is a fast and general-purpose cluster computing system. It provides high-level APIs in Java, Scala, Python and R, and an optimized engine that supports general execution graphs. It also supports a rich set of higher-level tools including Spark SQL for SQL and structured data processing, MLlib for machine learning, GraphX for graph processing, and Spark Streaming.<p>
                    </section>

                    <section class="flushleft" data-background="#222">
                        <h3>Architecture</h3>
                        <p>Glossary + image on https://spark.apache.org/docs/latest/cluster-overview.html<p>
                    </section>

                    <section class="flushleft" data-background="#222">
                        <h3>Chez LesFurets.com</h3>
                        <p>Glossary + image on https://spark.apache.org/docs/latest/cluster-overview.html<p>
                    </section>

                </section>

                <!-- SECTION - APACHE SPARK -->

                <section>

                    <section class="flushleft" data-state="background-pipeline">
                        <h2 style="color:white">Apache Spark</h2>
                    </section>

                    <section class="flushleft" data-background="#222">
                        <h3>SparkSQL, DataFrames and DataSets Represent the Same Component in Modern Spark</h3>
                        <!--
Modern SparkSQL and DataFrames represent the same thing: a new language-independent, high-performance query engine implementation
SparkSQL/DataFrames is different from, and replaces, a variety of older approaches including Shark, Hive-on-Spark, and SchemaRDD
Although Spark contains its own data processing engine, it can integrate closely with a Hive metastore

DataFrame/DataSet API and SQL (typically via the HiveQL parser) are equivalent ways to do the same tasks.
SQL serves many general purposes, including analytic work via BI tools (over JDBC and the Thriftserver)
DataFrames offer more programmatic control and an API familiar to users of Pandas or R
DataSets are a generalization of DataFrames and the underlying engine, to support more data types and stronger type enforcement
                        -->
                    </section>

                    <section class="flushleft" data-background="#222">
                        <h3>DataFrame / DataSet</h3>
                        <!--
DataFrames
The preferred abstraction in Spark (introduced in 1.3)
Strongly typed collection of distributed elements
Built on Resilient Distributed Datasets
Immutable once constructed
Track lineage information to efficiently recompute lost data
Enable operations on collection of elements in parallel

You construct DataFrames
by parallelizing existing collections (e.g., Pandas DataFrames)
by transforming an existing DataFrame
from files in HDFS, Hive tables, or any other storage system (e.g., Parquet in S3)
                        -->
                    </section>

                    <section class="flushleft" data-background="#222">
                        <h3>DateFrame API</h3>
                        <img style="width:66%" src="../img/spark/dataframe-diagram.png">
                        <!-- 
Why Use DataFrames instead of RDDs?
For new users familiar with data frames in other programming languages, this API should make them feel at home
For existing Spark users, the API will make Spark easier to program than using RDDs
For both sets of users, DataFrames will improve performance through intelligent optimizations and code-generation 
                        -->
                    </section>

                    <section class="flushleft" data-background="#222">
                        <h3>Performance</h3>
                        <img style="width:66%" src="../img/spark/dataframe-performance.png">
                        <!-- 
https://databricks.com/blog/2015/02/17/introducing-dataframes-in-spark-for-large-scale-data-science.html
https://gist.github.com/rxin/c1592c133e4bccf515dd
                        -->
                    </section>

                    <section class="flushleft" data-background="#222">
                        <h3>Catalyst / whole-stage codegen</h3>
                        <img style="width:66%" src="../img/spark/dataframe-performance.png">
                        <!-- 
TODO
                        -->
                    </section>

                    <section class="flushleft" data-background="#222">
                        <h3>DataFrames have Schemas</h3>
                        <p>val df = spark.read.option("header", "true").option("inferSchema", "true").csv("/databricks-datasets/samples/population-vs-price/data_geo.csv")</p>
                        <!-- 
In the previous example, we created DataFrames from Parquet and JSON data.
A Parquet table has a schema (column names and types) that Spark can use. Parquet also allows Spark to be efficient about how it pares down data.
Spark can infer a Schema from a JSON file.
                        -->
                    </section>

                    <section class="flushleft" data-background="#222">
                        <h3>Data sources</h3>
                        <img style="width:66%" src="../img/spark/dataframe-sources.png">
                        <!-- 
                        -->
                    </section>

                    <section class="flushleft" data-background="#222">
                        <h3>Data store (disk / parquet)</h3>
                        <p>code</p>
                        <p>https://academy.datastax.com/resources/getting-started-apache-spark-and-cassandra?unit=getting-started-apache-spark-and-cassandra<p>
                    </section>

                    <section class="flushleft" data-background="#222">
                        <h3>Data store (Cassandra)</h3>
                        <p>code</p>
                        <p>https://academy.datastax.com/resources/getting-started-apache-spark-and-cassandra?unit=getting-started-apache-spark-and-cassandra<p>
                    </section>

                </section>

                <!-- SECTION - ENVIRONNEMENT -->

                <section>

                    <section class="flushleft" data-state="background-pipeline">
                        <h2 style="color:white">Environnement pour développeur</h2>
                    </section>

                    <section class="flushleft" data-background="#222">
                        <h3>Notebook</h3>
                    </section>

                    <section class="flushleft" data-background="#222">
                        <h3>Maven</h3>
                        <p>parler du versionning</p>
                        <p>parler de l'emplacement et du contenu des jars</p>
                        <p>sparksession, etc.</p>
                    </section>

                    <section class="flushleft" data-background="#222">
                        <h3>IDE</h3>
                    </section>

                </section>

                <!-- SECTION - USE CASE -->

                <section>

                    <section class="flushleft" data-state="background-pipeline">
                        <h2 style="color:white">Cas d'utilisation</h2>
                        <h3 style="color:white">Todo find use case</h3>
                    </section>

                </section>

                <!-- SECTION - END -->

                <section>

                    <section class="flushleft" data-background="../img/nwx/lesfurets-background-black-01.jpg">
                        <h2 style="color:white">END</h2>
                    </section>

                </section>

            </div>
        </div>
        <script src="../bower_components/reveal.js/lib/js/head.min.js"></script>
        <script src="../bower_components/reveal.js/js/reveal.js"></script>
        <script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({
    controls: true,
    progress: true,
    history: true,
    center: true,
    embedded: true,

    // Hack my remote because it send 5 events
    keyboard: {
        // Tab : nop
        9: null,
        // Page down : previous slide
        33: function() { 
            if (!window.animate) {
                window.animate = true;
                Reveal.left();
                setTimeout(function() { window.animate = false; }, 1000);
            }
        },
        // Page up : next slide
        34: function() { 
            if (!window.animate) {
                window.animate = true;
                Reveal.right(); 
                setTimeout(function() { window.animate = false; }, 1000);
            }
        }
    },


    //theme: 'lesfurets', // available themes are in /css/theme
    transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/fade/none

    // Parallax scrolling
    // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
    // parallaxBackgroundSize: '2100px 900px',

    // Optional libraries used to extend on reveal.js
    dependencies: [
    { src: '../bower_components/reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
    { src: '../bower_components/reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
    { src: '../bower_components/reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
    { src: '../bower_components/reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
    { src: '../bower_components/reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
    { src: '../bower_components/reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
    ]
});
        </script>
        <script src="../js/lesfurets-theme.js" async></script>
    </body>
</html>

